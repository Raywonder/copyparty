<!-- Copyparty Accessibility Template Patches -->

<!-- Add to head section -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Copyparty - Accessible file sharing server">
<title>Copyparty - File Sharing</title>

<!-- Accessibility CSS -->
<link rel="stylesheet" href="/accessibility.css">

<!-- Skip links -->
<div class="skip-links">
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <a href="#navigation" class="skip-link">Skip to navigation</a>
</div>

<!-- Add ARIA landmarks to main structure -->
<header role="banner">
    <h1>Copyparty File Server</h1>
    <nav role="navigation" aria-label="Main navigation" id="navigation">
        <!-- Navigation content -->
    </nav>
</header>

<main role="main" id="main-content" aria-label="File browser">
    <!-- Main content -->
    
    <!-- Search form with accessibility -->
    <section role="search" aria-label="Search files">
        <form action="/search" method="get" role="search">
            <label for="search-input">Search files and folders</label>
            <input 
                type="search" 
                id="search-input" 
                name="q" 
                aria-describedby="search-help"
                placeholder="Search..."
                autocomplete="off"
            >
            <div id="search-help" class="sr-only">
                Enter search terms to find files and folders. Use * for wildcards.
            </div>
            <button type="submit" aria-label="Submit search">Search</button>
        </form>
    </section>
    
    <!-- File browser with accessibility -->
    <section aria-label="File browser">
        <h2>Files and Folders</h2>
        
        <!-- Upload area -->
        <div 
            class="upload-area" 
            role="application" 
            aria-label="File upload area"
            tabindex="0"
            aria-describedby="upload-instructions"
        >
            <h3>Upload Files</h3>
            <div id="upload-instructions">
                Drag and drop files here or click to select files to upload.
            </div>
            <input 
                type="file" 
                id="file-input" 
                multiple 
                aria-label="Select files to upload"
                style="display: none;"
            >
            <button 
                onclick="document.getElementById('file-input').click()"
                aria-label="Browse and select files to upload"
            >
                Choose Files
            </button>
            <button 
                onclick="uploadFiles()"
                aria-label="Upload selected files to server"
            >
                Upload
            </button>
        </div>
        
        <!-- File table -->
        <table 
            role="grid" 
            aria-label="File listing"
            aria-rowcount="auto"
        >
            <thead>
                <tr role="row">
                    <th scope="col" aria-sort="none" tabindex="0">
                        <button aria-label="Sort by name">Name</button>
                    </th>
                    <th scope="col" aria-sort="none" tabindex="0">
                        <button aria-label="Sort by size">Size</button>
                    </th>
                    <th scope="col" aria-sort="none" tabindex="0">
                        <button aria-label="Sort by date">Modified</button>
                    </th>
                    <th scope="col" scope="col">Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- File rows will be inserted here -->
            </tbody>
        </table>
    </section>
</main>

<!-- Footer -->
<footer role="contentinfo">
    <p>Copyparty File Server - Accessibility Enhanced</p>
</footer>

<!-- Status announcers -->
<div 
    aria-live="polite" 
    aria-atomic="true" 
    class="sr-only"
    id="status-announcer"
></div>
<div 
    aria-live="assertive" 
    aria-atomic="true" 
    class="sr-only"
    id="error-announcer"
></div>

<!-- Accessibility JavaScript -->
<script src="/accessibility.js"></script>
